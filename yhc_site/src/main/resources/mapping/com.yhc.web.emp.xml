<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yhc.web.emp" >
  <select id="getAuthMenuList" parameterType="map" resultType="authMenu">
     select 
			txam.am_id amId,
			txam.auth_id authId,
			txam.menu_id menuId,
			txam.del_yn delYn,
			txa.auth_nm authNm,
			txa.auth_type authType,
			txa.del_yn authDelYn,
			txm.parent_menu_nm parentMenuNm,
			txm.menu_nm menuNm,
			txm.menu_uri menuUri,
			txm.menu_tag_nm menuTagNm,
			txm.disp_yn dispYn,
			txm.del_yn menuDelYn
		from tb_xmph_menu txm, tb_xmph_auth_menu txam, tb_xmph_auth txa
		where txa.auth_id = txam.auth_id
		and txam.menu_id = txm.menu_id
		<if test="authId!=null">
		and txa.auth_id = #{authId}#
		</if>
		<if test="authDelYn!=null">
		and txa.del_yn = #{authDelYn}#
		</if>
		<if test="dispYn!=null">
		and txm.disp_yn = #{dispYn}#
		</if>
		<if test="menuDelYn!=null">
		and txm.del_yn = #{menuDelYn}#
		</if>
		<if test="delYn!=null">
		and txam.del_yn = #{delYn}#
		</if>
		order by txm.parent_menu_nm
	</select>
</mapper>